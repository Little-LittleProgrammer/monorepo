var pe=Object.defineProperty;var te=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var ne=(e,a,o)=>a in e?pe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,oe=(e,a)=>{for(var o in a||(a={}))me.call(a,o)&&ne(e,o,a[o]);if(te)for(var o of te(a))fe.call(a,o)&&ne(e,o,a[o]);return e};var V=(e,a,o)=>new Promise((r,i)=>{var c=t=>{try{u(o.next(t))}catch(l){i(l)}},n=t=>{try{u(o.throw(t))}catch(l){i(l)}},u=t=>t.done?r(t.value):Promise.resolve(t.value).then(c,n);u((o=o.apply(e,a)).next())});import{a0 as _e,a1 as be,a2 as W,a3 as Ce,a4 as ve,a5 as he,d as Y,a6 as ye,a7 as G,h as Z,a8 as we,k as s,a9 as Se,aa as Re,ab as De,ac as $e,ad as ke,ae as Te,af as ae,ag as xe,ah as Ie,ai as Be,aj as Ee,ak as Ae,al as Pe,am as Fe,an as Le,ao as ze,ap as x,B as X,F as He,f as w,D as Ke,aq as D,ar as Oe,i as Me,o as U,v as ie,w as p,Q as je,as as qe,at as Ne,au as re,av as Ve,aw as Ge,q as Qe,ax as le,ay as We,az as Xe,_ as Ue,r as O,g as Je,n as J,x as _,G as Ye}from"./index-7f3c9944.js";const Q=(e,a,o,r,i)=>({backgroundColor:e,border:`${r.lineWidth}px ${r.lineType} ${a}`,[`${i}-icon`]:{color:o}}),Ze=e=>{const{componentCls:a,motionDurationSlow:o,marginXS:r,marginSM:i,fontSize:c,fontSizeLG:n,lineHeight:u,borderRadiusLG:t,motionEaseInOutCirc:l,alertIconSizeLG:d,colorText:f,paddingContentVerticalSM:C,alertPaddingHorizontal:v,paddingMD:S,paddingContentHorizontalLG:R}=e;return{[a]:W(W({},Ce(e)),{position:"relative",display:"flex",alignItems:"center",padding:`${C}px ${v}px`,wordWrap:"break-word",borderRadius:t,[`&${a}-rtl`]:{direction:"rtl"},[`${a}-content`]:{flex:1,minWidth:0},[`${a}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:c,lineHeight:u},"&-message":{color:f},[`&${a}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${l}, opacity ${o} ${l},
        padding-top ${o} ${l}, padding-bottom ${o} ${l},
        margin-bottom ${o} ${l}`},[`&${a}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${a}-with-description`]:{alignItems:"flex-start",paddingInline:R,paddingBlock:S,[`${a}-icon`]:{marginInlineEnd:i,fontSize:d,lineHeight:0},[`${a}-message`]:{display:"block",marginBottom:r,color:f,fontSize:n},[`${a}-description`]:{display:"block"}},[`${a}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},et=e=>{const{componentCls:a,colorSuccess:o,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:c,colorWarningBorder:n,colorWarningBg:u,colorError:t,colorErrorBorder:l,colorErrorBg:d,colorInfo:f,colorInfoBorder:C,colorInfoBg:v}=e;return{[a]:{"&-success":Q(i,r,o,e,a),"&-info":Q(v,C,f,e,a),"&-warning":Q(u,n,c,e,a),"&-error":W(W({},Q(d,l,t,e,a)),{[`${a}-description > pre`]:{margin:0,padding:0}})}}},tt=e=>{const{componentCls:a,iconCls:o,motionDurationMid:r,marginXS:i,fontSizeIcon:c,colorIcon:n,colorIconHover:u}=e;return{[a]:{"&-action":{marginInlineStart:i},[`${a}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:c,lineHeight:`${c}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:n,transition:`color ${r}`,"&:hover":{color:u}}},"&-close-text":{color:n,transition:`color ${r}`,"&:hover":{color:u}}}}},nt=e=>[Ze(e),et(e),tt(e)],ot=_e("Alert",e=>{const{fontSizeHeading3:a}=e,o=be(e,{alertIconSizeLG:a,alertPaddingHorizontal:12});return[nt(o)]}),at={success:Ie,info:Be,error:Ee,warning:Ae},lt={success:Pe,info:Fe,error:Le,warning:ze},st=he("success","info","warning","error"),it=()=>({type:x.oneOf(st),closable:{type:Boolean,default:void 0},closeText:x.any,message:x.any,description:x.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:x.any,closeIcon:x.any,onClose:Function}),rt=Y({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:it(),setup(e,a){let{slots:o,emit:r,attrs:i,expose:c}=a;const{prefixCls:n,direction:u}=ye("alert",e),[t,l]=ot(n),d=G(!1),f=G(!1),C=G(),v=m=>{m.preventDefault();const h=C.value;h.style.height=`${h.offsetHeight}px`,h.style.height=`${h.offsetHeight}px`,d.value=!0,r("close",m)},S=()=>{var m;d.value=!1,f.value=!0,(m=e.afterClose)===null||m===void 0||m.call(e)},R=Z(()=>{const{type:m}=e;return m!==void 0?m:e.banner?"warning":"info"});c({animationEnd:S});const y=G({});return()=>{var m,h,I,B,E,A,P,F,L,z;const{banner:M,closeIcon:j=(m=o.closeIcon)===null||m===void 0?void 0:m.call(o)}=e;let{closable:H,showIcon:$}=e;const K=(h=e.closeText)!==null&&h!==void 0?h:(I=o.closeText)===null||I===void 0?void 0:I.call(o),k=(B=e.description)!==null&&B!==void 0?B:(E=o.description)===null||E===void 0?void 0:E.call(o),q=(A=e.message)!==null&&A!==void 0?A:(P=o.message)===null||P===void 0?void 0:P.call(o),T=(F=e.icon)!==null&&F!==void 0?F:(L=o.icon)===null||L===void 0?void 0:L.call(o),b=(z=o.action)===null||z===void 0?void 0:z.call(o);$=M&&$===void 0?!0:$;const ee=(k?lt:at)[R.value]||null;K&&(H=!0);const g=n.value,ce=we(g,{[`${g}-${R.value}`]:!0,[`${g}-closing`]:d.value,[`${g}-with-description`]:!!k,[`${g}-no-icon`]:!$,[`${g}-banner`]:!!M,[`${g}-closable`]:H,[`${g}-rtl`]:u.value==="rtl",[l.value]:!0}),ue=H?s("button",{type:"button",onClick:v,class:`${g}-close-icon`,tabindex:0},[K?s("span",{class:`${g}-close-text`},[K]):j===void 0?s(Se,null,null):j]):null,de=T&&(Re(T)?De(T,{class:`${g}-icon`}):s("span",{class:`${g}-icon`},[T]))||s(ee,{class:`${g}-icon`},null),ge=$e(`${g}-motion`,{appear:!1,css:!0,onAfterLeave:S,onBeforeLeave:N=>{N.style.maxHeight=`${N.offsetHeight}px`},onLeave:N=>{N.style.maxHeight="0px"}});return t(f.value?null:s(xe,ge,{default:()=>[ke(s("div",ae(ae({role:"alert"},i),{},{style:[i.style,y.value],class:[i.class,ce],"data-show":!d.value,ref:C}),[$?de:null,s("div",{class:`${g}-content`},[q?s("div",{class:`${g}-message`},[q]):null,k?s("div",{class:`${g}-description`},[k]):null]),b?s("div",{class:`${g}-action`},[b]):null,ue]),[[Te,!d.value]])]}))}}}),ct=ve(rt);function se(e){const a={};return Object.keys(e).map(o=>{a[o]=w(e[o])}),a}function ut(e){const a=X(null),o=X(!1),r=X(null);let i;function c(t,l){He(()=>{a.value=null,o.value=null}),!(w(o)&&t===w(a))&&(a.value=t,r.value=l,e&&t.setProps(se(e)),o.value=!0,i==null||i(),i=Ke(()=>e,()=>{e&&t.setProps(se(e))},{immediate:!0,deep:!0}))}function n(){const t=w(a);return t||console.error("The table instance has not been obtained yet, please make sure the table is presented when performing the table operation!"),t}return[c,{reload:t=>V(this,null,function*(){return yield n().reload(t)}),setProps:t=>{n().setProps(t)},redoHeight:()=>{n().redoHeight()},setSelectedRows:t=>D(n().setSelectedRows(t)),setLoading:t=>{n().setLoading(t)},getDataSource:()=>n().getDataSource(),getRawDataSource:()=>n().getRawDataSource(),getColumns:({ignoreIndex:t=!1}={})=>{const l=n().getColumns({ignoreIndex:t})||[];return D(l)},setColumns:t=>{n().setColumns(t)},setTableData:t=>n().setTableData(t),setPagination:t=>n().setPagination(t),deleteSelectRowByKey:t=>{n().deleteSelectRowByKey(t)},getSelectRowKeys:()=>D(n().getSelectRowKeys()),getSelectRows:()=>D(n().getSelectRows()),clearSelectedRowKeys:()=>{n().clearSelectedRowKeys()},setSelectedRowKeys:t=>{n().setSelectedRowKeys(t)},getPaginationRef:()=>n().getPaginationRef(),getSize:()=>D(n().getSize()),updateTableData:(t,l,d)=>n().updateTableData(t,l,d),deleteTableDataRecord:t=>n().deleteTableDataRecord(t),insertTableDataRecord:(t,l)=>n().insertTableDataRecord(t,l),updateTableDataRecord:(t,l)=>n().updateTableDataRecord(t,l),findTableDataRecord:t=>n().findTableDataRecord(t),getRowSelection:()=>D(n().getRowSelection()),getCacheColumns:()=>D(n().getCacheColumns()),getForm:()=>w(r),setShowPagination:t=>V(this,null,function*(){n().setShowPagination(t)}),getShowPagination:()=>D(n().getShowPagination()),expandAll:()=>{n().expandAll()},expandRows:t=>{n().expandRows(t)},collapseAll:()=>{n().collapseAll()},scrollTo:t=>{n().scrollTo(t)}}]}function dt(){return{access_mode_list:[{label:"API",value:1},{label:"SDK",value:2},{label:"联盟s2sbidding",value:3},{label:"自运营",value:4}],second_price_type_list:[{label:"固定",value:1},{label:"比例",value:2}],settlement_mode_list:[{label:"预付款",value:1},{label:"定期结算",value:2}],partner_status_list:[{label:"合作中",value:1},{label:"暂停合作",value:2}],cooperation_mode_list:[{label:"保价保量（PDB）",value:1},{label:"保价单阶（PD）",value:2},{label:"保价多阶（PD）",value:3},{label:"实时竞价（RTB）",value:4},{label:"联盟（ADN）",value:5},{label:"兜底",value:6},{label:"实时竞价（S2Sbidding）",value:7},{label:"保价（PD/B）",value:8}],settlement_type_list:[{label:"一价结算",value:1},{label:"二价结算",value:2}],party_list:[{label:"我方协议",value:1},{label:"对方协议",value:2}],partner_code_list:[{label:"穿山甲",value:1},{label:"广点通/优量汇",value:2}],applist_list:[{label:"手机百度（com.baidu.searchbox）",value:0},{label:"百度极速版（com.baidu.searchbox.lite）",value:1},{label:"饿了么（me.ele）",value:2},{label:"唯品会（com.achievo.vipshop）",value:3}],advertiser_list:[{label:"csj",value:1},{label:"gdt",value:2},{label:"baidu",value:3}],render_style_list:[{label:"开屏",value:1},{label:"开屏红包雨",value:2},{label:"气泡动效(开屏&插页)",value:3}]}}function gt(e){return{code:200,data:{list:[{name:"非标",partner_code:40,access_mode:1,factor:1e4,second_price_type:0,second_price_value:0,second_price_ratio:0,settlement_mode:2,party:1,request_url:"",material_url:"",source_from:"非标",timeout:0,cooperation_mode:[1],partner_id:1011,access_mode_txt:"API",second_price_type_txt:"",settlement_mode_txt:"定期结算",party_txt:"合作中",created_at:"2024-04-07 14:46:13",updated_at:"2024-04-07 14:46:13",deleted_at:"",status:1,status_txt:"合作中",settlement_type:0,settlement_type_txt:"",token:"",secret:"",cooperation_mode_txt:"保价保量（PDB）",applist:null,applist_switch:0,advertiser:"feibiao",render_style:1,deeplink_prefix_list:null}],pagination:{page:1,page_size:10,count:109},header:{partner_id:"合作平台ID",partner_code:"合作平台Code",name:"合作平台名称",access_mode_txt:"接入模式",cooperation_mode_txt:"合作模式",settlement_type_txt:"结算方式",factor:"竞价折扣",second_price_type_txt:"二价计算方式",second_price_ratio:"二价结算系数",created_at:"开始合作时间",status_txt:"合作状态"}},msg:"success"}}const pt=Y({__name:"edit",emits:["ok","register"],setup(e,{emit:a}){const o=a,{createMessage:r}=re(),[i,{closeDrawer:c,changeOkLoading:n,changeLoading:u,setDrawerProps:t}]=Oe(y=>{f(oe({},y))}),l=Z(()=>[{label:"名字",field:"name",required:!0,component:"Input"},{label:"年龄",field:"age",required:!0,component:"InputNumber"}]),[d,{setFieldsValue:f,validate:C,resetFields:v}]=Me({schemas:l,labelWidth:110,baseColProps:{span:20},showActionButtonGroup:!1});function S(){C().then(y=>{r.success("编辑成功"),v(),o("ok",y),c()})}function R(){v()}return(y,m)=>(U(),ie(w(Ne),qe(y.$attrs,{onRegister:w(i),onOk:S,onClose:R}),{default:p(()=>[s(w(je),{onRegister:w(d)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}}),mt=Y({name:"FormTable",components:{Alert:ct,edit:pt,QAntdTable:Ve,QAntdTableAction:Ge},setup(){const{createMessage:e}=re();function a(){}const o=Qe({selectObj:{}}),r=Z(()=>[{field:"key_word",label:"Slot示例",component:"Input",slot:"slot"},{label:"日期",field:"duration",component:"RangePicker",defaultValue:[le().subtract(7,"day").startOf("month"),le().subtract(1,"day")]},{label:"接入模式",field:"access_mode",component:"Select",componentProps:{options:o.selectObj.access_mode_list}}]),[i,{setLoading:c,setProps:n,getColumns:u,getDataSource:t,getRawDataSource:l,reload:d,getPaginationRef:f,setPagination:C,getSelectRows:v,getSelectRowKeys:S,setSelectedRowKeys:R,clearSelectedRowKeys:y}]=ut({canResize:!0,title:"QTable示例",titleHelpMessage:"使用useTable调用表格内方法",api:gt,immediate:!0,useSearchForm:!0,formConfig:{layout:"inline",schemas:r,fieldMapToTime:[["duration",["start","end"],We.date]]},scroll:{x:2e3},autoCreateKey:!0,summaryConfig:{fixed:"top"},columnsConfig:{sortData:["partner_id"],widthData:{name:200}},columns:[{title:"你好",key:"helper",helpMessage:"你好"}],fetchSetting:{totalField:"pagination.count"},showTableSetting:!0,onChange:a,rowSelection:{type:"checkbox"},onColumnsChange:b=>{}}),[m,{openDrawer:h}]=Xe();function I(){return V(this,null,function*(){const b=yield dt();b.code===200&&(o.selectObj=b.data)})}I();function B(){c(!0),setTimeout(()=>{c(!1)},1e3)}function E(){n({columns:[{title:"合作平台ID",key:"partner_id",dataIndex:"partner_id",width:150,resizable:!0,align:"center",fixed:"",sorter:!0,customCell:null,ellipsis:!0,children:[{title:"合作平台Code",key:"partner_code",dataIndex:"partner_code",width:150,resizable:!0,align:"center",fixed:"",sorter:!1,customCell:null,ellipsis:!0},{title:"合作平台名称",key:"name",dataIndex:"name",width:200,resizable:!0,align:"center",fixed:"",sorter:!1,customCell:null,editRule:!0,helpMessage:"你好",editRow:!0,editComponent:"Input",ellipsis:!0}]}]})}function A(){d({page:1})}function P(){e.info("请在控制台查看！"),u()}function F(){e.info("请在控制台查看！"),t()}function L(){e.info("请在控制台查看！"),l()}function z(){e.info("请在控制台查看！"),f()}function M(){C({current:2}),d()}function j(){e.info("请在控制台查看！"),v()}function H(){e.info("请在控制台查看！"),S()}function $(){R(["0","1","2"])}function K(){y()}function k(b){}function q(b,ee){return b.editable?[{label:"保存",onClick:()=>{b.onSubmit()}},{label:"取消",popConfirm:{title:"是否取消编辑",confirm:()=>{b.onCancel()}}}]:[{label:"编辑1",onClick:()=>{b.onEdit()}},{label:"编辑2",onClick:()=>{h()}}]}function T(){n({ellipsis:!1})}return{registerTable:i,handlerEdit:k,changeLoading:B,changeColumns:E,reloadTable:A,getColumn:P,getTableData:F,getTableRawData:L,getPagination:z,setPaginationInfo:M,getSelectRowList:j,getSelectRowKeyList:H,setSelectedRowKeyList:$,clearSelect:K,onChange:a,collapseAll:T,createActions:q,registerDrawer:m}}}),ft={class:"mb-4"},_t=J("span",null,"未选中任何项目",-1);function bt(e,a,o,r,i,c){const n=O("a-button"),u=O("alert"),t=O("q-antd-table-action"),l=O("q-antd-table"),d=O("edit");return U(),Je("div",null,[J("div",null,[s(n,{onClick:e.reloadTable},{default:p(()=>[_(" 还原 ")]),_:1},8,["onClick"]),s(n,{onClick:e.changeLoading},{default:p(()=>[_(" 开启loading ")]),_:1},8,["onClick"]),s(n,{onClick:e.changeColumns},{default:p(()=>[_(" 更改Columns ")]),_:1},8,["onClick"]),s(n,{onClick:e.getColumn},{default:p(()=>[_(" 获取Columns ")]),_:1},8,["onClick"]),s(n,{onClick:e.getTableData},{default:p(()=>[_(" 获取表格数据 ")]),_:1},8,["onClick"]),s(n,{onClick:e.getTableRawData},{default:p(()=>[_(" 获取接口原始数据 ")]),_:1},8,["onClick"]),s(n,{onClick:e.setPaginationInfo},{default:p(()=>[_(" 跳转到第2页 ")]),_:1},8,["onClick"])]),J("div",ft,[s(n,{onClick:e.getSelectRowList},{default:p(()=>[_(" 获取选中行 ")]),_:1},8,["onClick"]),s(n,{onClick:e.getSelectRowKeyList},{default:p(()=>[_(" 获取选中行Key ")]),_:1},8,["onClick"]),s(n,{onClick:e.setSelectedRowKeyList},{default:p(()=>[_(" 设置选中行 ")]),_:1},8,["onClick"]),s(n,{onClick:e.clearSelect},{default:p(()=>[_(" 清空选中行 ")]),_:1},8,["onClick"]),s(n,{onClick:e.getPagination},{default:p(()=>[_(" 获取分页信息 ")]),_:1},8,["onClick"]),s(n,{onClick:e.collapseAll},{default:p(()=>[_(" 展开 ")]),_:1},8,["onClick"])]),s(l,{onRegister:e.registerTable,onEditEnd:e.handlerEdit,onEditRowEnd:e.handlerEdit},{"form-slot":p(()=>[_(" 12312312312 ")]),headerTop:p(()=>[s(u,{type:"info","show-icon":""},{message:p(()=>[_t]),_:1})]),bodyCell:p(({column:f,record:C})=>[f.key==="action"?(U(),ie(t,{key:0,actions:e.createActions(C,f)},null,8,["actions"])):Ye("",!0)]),_:1},8,["onRegister","onEditEnd","onEditRowEnd"]),s(d,{onRegister:e.registerDrawer},null,8,["onRegister"])])}const ht=Ue(mt,[["render",bt]]);export{ht as default};
