function O(o,c){for(var i=0;i<c.length;i++){const n=c[i];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in o)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(o,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var v={};(function(){var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("content_style","","string")},r=function(e){return e.getParam("content_css_cors",!1,"boolean")},s=function(e){var t=e.getParam("body_class","","hash");return t[e.id]||""},d=function(e){var t=e.getParam("body_class","","string");return t.indexOf("=")===-1?t:s(e)},y=function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t},m=function(e){var t=e.getParam("body_id","tinymce","string");return t.indexOf("=")===-1?t:y(e)},f=function(e){var t="",a=e.dom.encode,l=n(e);t+='<base href="'+a(e.documentBaseURI.getURI())+'">';var h=r(e)?' crossorigin="anonymous"':"";i.each(e.contentCSS,function(I){t+='<link type="text/css" rel="stylesheet" href="'+a(e.documentBaseURI.toAbsolute(I))+'"'+h+">"}),l&&(t+='<style type="text/css">'+l+"</style>");var w=m(e),C=d(e),_=c.mac?"e.metaKey":"e.ctrlKey && !e.altKey",x='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+_+")) {e.preventDefault();}}}, false);<\/script> ",u=e.getBody().dir,B=u?' dir="'+a(u)+'"':"",A="<!DOCTYPE html><html><head>"+t+'</head><body id="'+a(w)+'" class="mce-content-body '+a(C)+'"'+B+">"+e.getContent()+x+"</body></html>";return A},g=function(e){var t=f(e),a=e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}});a.focus("close")},p=function(e){e.addCommand("mcePreview",function(){g(e)})},b=function(e){var t=function(){return e.execCommand("mcePreview")};e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};function P(){o.add("preview",function(e){p(e),b(e)})}P()})();const S=O({__proto__:null,default:v},[v]);export{S as i};
