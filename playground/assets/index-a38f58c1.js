function jn(S,D){for(var O=0;O<D.length;O++){const y=D[O];if(typeof y!="string"&&!Array.isArray(y)){for(const p in y)if(p!=="default"&&!(p in S)){const w=Object.getOwnPropertyDescriptor(y,p);w&&Object.defineProperty(S,p,w.get?w:{enumerable:!0,get:()=>y[p]})}}}return Object.freeze(Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}))}var Xr={};(function(){var S=function(r){var e=r,n=function(){return e},t=function(o){e=o};return{get:n,set:t}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),O=function(r){return{isFullscreen:function(){return r.get()!==null}}},y=function(r){var e=typeof r;return r===null?"null":e==="object"&&(Array.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="String")?"string":e},p=function(r){return function(e){return y(e)===r}},w=function(r){return function(e){return typeof e===r}},Q=p("string"),Vr=p("array"),_r=w("boolean"),Gr=function(r){return r==null},B=function(r){return!Gr(r)},P=w("function"),Kr=w("number"),E=function(){},Yr=function(r,e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r(e.apply(null,n))}},Jr=function(r,e){return function(n){return r(e(n))}},u=function(r){return function(){return r}},Qr=function(r){return r};function Zr(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.concat(t);return r.apply(null,i)}}var F=u(!1),$=u(!0),N=function(){return H},H=function(){var r=function(t){return t()},e=Qr,n={fold:function(t,o){return t()},isSome:F,isNone:$,getOr:e,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:e,orThunk:r,map:N,each:E,bind:N,exists:F,forall:$,filter:function(){return N()},toArray:function(){return[]},toString:u("none()")};return n}(),j=function(r){var e=u(r),n=function(){return o},t=function(i){return i(r)},o={fold:function(i,a){return a(r)},isSome:$,isNone:F,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(i){return j(i(r))},each:function(i){i(r)},bind:t,exists:t,forall:t,filter:function(i){return i(r)?o:H},toArray:function(){return[r]},toString:function(){return"some("+r+")"}};return o},re=function(r){return r==null?H:j(r)},s={some:j,none:N,from:re},A=function(){return A=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},A.apply(this,arguments)},Z=function(r){var e=S(s.none()),n=function(){return e.get().each(r)},t=function(){n(),e.set(s.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},a=function(c){n(),e.set(s.some(c))};return{clear:t,isSet:o,get:i,set:a}},rr=function(){return Z(function(r){return r.unbind()})},ee=function(){var r=Z(E),e=function(n){return r.get().each(n)};return A(A({},r),{on:e})},ne=Array.prototype.push,q=function(r,e){for(var n=r.length,t=new Array(n),o=0;o<n;o++){var i=r[o];t[o]=e(i,o)}return t},I=function(r,e){for(var n=0,t=r.length;n<t;n++){var o=r[n];e(o,n)}},W=function(r,e){for(var n=[],t=0,o=r.length;t<o;t++){var i=r[t];e(i,t)&&n.push(i)}return n},te=function(r,e,n){for(var t=0,o=r.length;t<o;t++){var i=r[t];if(e(i,t))return s.some(i);if(n(i,t))break}return s.none()},er=function(r,e){return te(r,e,F)},oe=function(r){for(var e=[],n=0,t=r.length;n<t;++n){if(!Vr(r[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+r);ne.apply(e,r[n])}return e},ie=function(r,e){return oe(q(r,e))},ae=function(r,e){return e>=0&&e<r.length?s.some(r[e]):s.none()},ue=function(r){return ae(r,0)},ce=function(r,e){for(var n=0;n<r.length;n++){var t=e(r[n],n);if(t.isSome())return t}return s.none()},se=Object.keys,fe=function(r,e){for(var n=se(r),t=0,o=n.length;t<o;t++){var i=n[t],a=r[i];e(a,i)}},v=function(r,e){return r.indexOf(e)!==-1},nr=function(r){return r.style!==void 0&&P(r.style.getPropertyValue)},le=function(r,e){var n=e||document,t=n.createElement("div");if(t.innerHTML=r,!t.hasChildNodes()||t.childNodes.length>1)throw console.error("HTML does not have a single root node",r),new Error("HTML must have a single root node");return k(t.childNodes[0])},ve=function(r,e){var n=e||document,t=n.createElement(r);return k(t)},de=function(r,e){var n=e||document,t=n.createTextNode(r);return k(t)},k=function(r){if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},me=function(r,e,n){return s.from(r.dom.elementFromPoint(e,n)).map(k)},l={fromHtml:le,fromTag:ve,fromText:de,fromDom:k,fromPoint:me};typeof window!="undefined"||Function("return this;")();var tr=9,or=11,U=1,ge=3,he=function(r){return r.dom.nodeType},R=function(r){return function(e){return he(e)===r}},pe=R(U),be=R(ge),ye=R(tr),we=R(or),Se=function(r){var e=!1,n;return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e||(e=!0,n=r.apply(null,t)),n}},Oe=function(r,e,n,t){var o=r.isiOS()&&/ipad/i.test(n)===!0,i=r.isiOS()&&!o,a=r.isiOS()||r.isAndroid(),c=a||t("(pointer:coarse)"),m=o||!i&&a&&t("(min-device-width:768px)"),d=i||a&&!m,f=e.isSafari()&&r.isiOS()&&/safari/i.test(n)===!1,T=!d&&!m&&!f;return{isiPad:u(o),isiPhone:u(i),isTablet:u(m),isPhone:u(d),isTouch:u(c),isAndroid:r.isAndroid,isiOS:r.isiOS,isWebView:u(f),isDesktop:u(T)}},Te=function(r,e){for(var n=0;n<r.length;n++){var t=r[n];if(t.test(e))return t}},Ee=function(r,e){var n=Te(r,e);if(!n)return{major:0,minor:0};var t=function(o){return Number(e.replace(n,"$"+o))};return z(t(1),t(2))},Fe=function(r,e){var n=String(e).toLowerCase();return r.length===0?ir():Ee(r,n)},ir=function(){return z(0,0)},z=function(r,e){return{major:r,minor:e}},x={nu:z,detect:Fe,unknown:ir},ke=function(r,e){return ce(e.brands,function(n){var t=n.brand.toLowerCase();return er(r,function(o){var i;return t===((i=o.brand)===null||i===void 0?void 0:i.toLowerCase())}).map(function(o){return{current:o.name,version:x.nu(parseInt(n.version,10),0)}})})},ar=function(r,e){var n=String(e).toLowerCase();return er(r,function(t){return t.search(n)})},xe=function(r,e){return ar(r,e).map(function(n){var t=x.detect(n.versionRegexes,e);return{current:n.name,version:t}})},Ce=function(r,e){return ar(r,e).map(function(n){var t=x.detect(n.versionRegexes,e);return{current:n.name,version:t}})},X=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,g=function(r){return function(e){return v(e,r)}},De=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(r){return v(r,"edge/")&&v(r,"chrome")&&v(r,"safari")&&v(r,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,X],search:function(r){return v(r,"chrome")&&!v(r,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(r){return v(r,"msie")||v(r,"trident")}},{name:"Opera",versionRegexes:[X,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:g("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:g("firefox")},{name:"Safari",versionRegexes:[X,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(r){return(v(r,"safari")||v(r,"mobile/"))&&v(r,"applewebkit")}}],Pe=[{name:"Windows",search:g("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(r){return v(r,"iphone")||v(r,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:g("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:g("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:g("linux"),versionRegexes:[]},{name:"Solaris",search:g("sunos"),versionRegexes:[]},{name:"FreeBSD",search:g("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:g("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ur={browsers:u(De),oses:u(Pe)},cr="Edge",sr="Chrome",fr="IE",lr="Opera",vr="Firefox",dr="Safari",$e=function(){return mr({current:void 0,version:x.unknown()})},mr=function(r){var e=r.current,n=r.version,t=function(o){return function(){return e===o}};return{current:e,version:n,isEdge:t(cr),isChrome:t(sr),isIE:t(fr),isOpera:t(lr),isFirefox:t(vr),isSafari:t(dr)}},gr={unknown:$e,nu:mr,edge:u(cr),chrome:u(sr),ie:u(fr),opera:u(lr),firefox:u(vr),safari:u(dr)},hr="Windows",pr="iOS",br="Android",yr="Linux",wr="OSX",Sr="Solaris",Or="FreeBSD",Tr="ChromeOS",Ne=function(){return Er({current:void 0,version:x.unknown()})},Er=function(r){var e=r.current,n=r.version,t=function(o){return function(){return e===o}};return{current:e,version:n,isWindows:t(hr),isiOS:t(pr),isAndroid:t(br),isOSX:t(wr),isLinux:t(yr),isSolaris:t(Sr),isFreeBSD:t(Or),isChromeOS:t(Tr)}},Fr={unknown:Ne,nu:Er,windows:u(hr),ios:u(pr),android:u(br),linux:u(yr),osx:u(wr),solaris:u(Sr),freebsd:u(Or),chromeos:u(Tr)},Ae=function(r,e,n){var t=ur.browsers(),o=ur.oses(),i=e.bind(function(m){return ke(t,m)}).orThunk(function(){return xe(t,r)}).fold(gr.unknown,gr.nu),a=Ce(o,r).fold(Fr.unknown,Fr.nu),c=Oe(a,i,r,n);return{browser:i,os:a,deviceType:c}},Re={detect:Ae},Me=function(r){return window.matchMedia(r).matches},Le=Se(function(){return Re.detect(navigator.userAgent,s.from(navigator.userAgentData),Me)}),Be=function(){return Le()},kr=function(r,e){var n=r.dom;if(n.nodeType!==U)return!1;var t=n;if(t.matches!==void 0)return t.matches(e);if(t.msMatchesSelector!==void 0)return t.msMatchesSelector(e);if(t.webkitMatchesSelector!==void 0)return t.webkitMatchesSelector(e);if(t.mozMatchesSelector!==void 0)return t.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},He=function(r){return r.nodeType!==U&&r.nodeType!==tr&&r.nodeType!==or||r.childElementCount===0},je=function(r,e){var n=e===void 0?document:e.dom;return He(n)?[]:q(n.querySelectorAll(r),l.fromDom)},qe=function(r,e){return r.dom===e.dom},C=function(r){return l.fromDom(r.dom.ownerDocument)},Ie=function(r){return ye(r)?r:C(r)},We=function(r){return s.from(r.dom.parentNode).map(l.fromDom)},Ue=function(r,e){for(var n=P(e)?e:F,t=r.dom,o=[];t.parentNode!==null&&t.parentNode!==void 0;){var i=t.parentNode,a=l.fromDom(i);if(o.push(a),n(a)===!0)break;t=i}return o},ze=function(r){var e=function(n){return W(n,function(t){return!qe(r,t)})};return We(r).map(Xe).map(e).getOr([])},Xe=function(r){return q(r.dom.childNodes,l.fromDom)},Ve=function(r){return we(r)&&B(r.dom.host)},xr=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),_e=u(xr),Ge=xr?function(r){return l.fromDom(r.dom.getRootNode())}:Ie,V=function(r){var e=Ge(r);return Ve(e)?s.some(e):s.none()},_=function(r){return l.fromDom(r.dom.host)},Ke=function(r){if(_e()&&B(r.target)){var e=l.fromDom(r.target);if(pe(e)&&Ye(e)&&r.composed&&r.composedPath){var n=r.composedPath();if(n)return ue(n)}}return s.from(r.target)},Ye=function(r){return B(r.dom.shadowRoot)},Cr=function(r){var e=be(r)?r.dom.parentNode:r.dom;if(e==null||e.ownerDocument===null)return!1;var n=e.ownerDocument;return V(l.fromDom(e)).fold(function(){return n.body.contains(e)},Jr(Cr,_))},Je=function(r){var e=r.dom.body;if(e==null)throw new Error("Body is not available yet");return l.fromDom(e)},Qe=function(r,e,n){if(Q(n)||_r(n)||Kr(n))r.setAttribute(e,n+"");else throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",r),new Error("Attribute value was not simple")},Ze=function(r,e,n){Qe(r.dom,e,n)},Dr=function(r,e){var n=r.dom.getAttribute(e);return n===null?void 0:n},Pr=function(r,e){r.dom.removeAttribute(e)},rn=function(r,e,n){if(!Q(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",r),new Error("CSS value must be a string: "+n);nr(r)&&r.style.setProperty(e,n)},G=function(r,e){var n=r.dom;fe(e,function(t,o){rn(n,o,t)})},en=function(r,e){var n=r.dom,t=window.getComputedStyle(n),o=t.getPropertyValue(e);return o===""&&!Cr(r)?nn(n,e):o},nn=function(r,e){return nr(r)?r.style.getPropertyValue(e):""},tn=function(r,e,n,t,o,i,a){return{target:r,x:e,y:n,stop:t,prevent:o,kill:i,raw:a}},$r=function(r){var e=l.fromDom(Ke(r).getOr(r.target)),n=function(){return r.stopPropagation()},t=function(){return r.preventDefault()},o=Yr(t,n);return tn(e,r.clientX,r.clientY,n,t,o,r)},on=function(r,e){return function(n){r(n)&&e($r(n))}},an=function(r,e,n,t,o){var i=on(n,t);return r.dom.addEventListener(e,i,o),{unbind:Zr(cn,r,e,i,o)}},un=function(r,e,n,t){return an(r,e,n,t,!1)},cn=function(r,e,n,t){r.dom.removeEventListener(e,n,t)},sn=$,fn=function(r,e,n){return un(r,e,sn,n)},Nr=function(r,e){var n=function(t,o){return Nr(r+t,e+o)};return{left:r,top:e,translate:n}},ln=Nr,vn=function(r){var e=r!==void 0?r.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,t=e.body.scrollTop||e.documentElement.scrollTop;return ln(n,t)},K=function(r){var e=r===void 0?window:r;return Be().browser.isFirefox()?s.none():s.from(e.visualViewport)},Ar=function(r,e,n,t){return{x:r,y:e,width:n,height:t,right:r+n,bottom:e+t}},dn=function(r){var e=r===void 0?window:r,n=e.document,t=vn(l.fromDom(n));return K(e).fold(function(){var o=e.document.documentElement,i=o.clientWidth,a=o.clientHeight;return Ar(t.left,t.top,i,a)},function(o){return Ar(Math.max(o.pageLeft,t.left),Math.max(o.pageTop,t.top),o.width,o.height)})},Rr=function(r,e,n){return K(n).map(function(t){var o=function(i){return e($r(i))};return t.addEventListener(r,o),{unbind:function(){return t.removeEventListener(r,o)}}}).getOrThunk(function(){return{unbind:E}})},mn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Mr=tinymce.util.Tools.resolve("tinymce.Env"),gn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Lr=function(r,e){r.fire("FullscreenStateChanged",{state:e}),r.fire("ResizeEditor")},Y=function(r){return r.getParam("fullscreen_native",!1,"boolean")},hn=function(r){var e=l.fromDom(r.getElement());return V(e).map(_).getOrThunk(function(){return Je(C(e))})},pn=function(r){return r.fullscreenElement!==void 0?r.fullscreenElement:r.msFullscreenElement!==void 0?r.msFullscreenElement:r.webkitFullscreenElement!==void 0?r.webkitFullscreenElement:null},bn=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},yn=function(r){var e=r.dom;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},wn=function(r){var e=r.dom;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()},Br=function(r){return r.dom===pn(C(r).dom)},Sn=function(r,e,n){return W(Ue(r,n),e)},On=function(r,e){return W(ze(r),e)},Tn=function(r){return je(r)},En=function(r,e,n){return Sn(r,function(t){return kr(t,e)},n)},Fn=function(r,e){return On(r,function(n){return kr(n,e)})},M="data-ephox-mobile-fullscreen-style",kn="display:none!important;",Hr="position:absolute!important;",jr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",xn="background-color:rgb(255,255,255)!important;",Cn=Mr.os.isAndroid(),Dn=function(r){var e=en(r,"background-color");return e!==void 0&&e!==""?"background-color:"+e+"!important":xn},Pn=function(r,e,n){var t=function(d){return Fn(d,"*:not(.tox-silver-sink)")},o=function(d){return function(f){var T=Dr(f,"style"),h=T===void 0?"no-styles":T.trim();h!==d&&(Ze(f,M,h),G(f,r.parseStyle(d)))}},i=En(e,"*"),a=ie(i,t),c=Dn(n);I(a,o(kn)),I(i,o(Hr+jr+c));var m=Cn===!0?"":Hr;o(m+jr+c)(e)},$n=function(r){var e=Tn("["+M+"]");I(e,function(n){var t=Dr(n,M);t!=="no-styles"?G(n,r.parseStyle(t)):Pr(n,"style"),Pr(n,M)})},qr=mn.DOM,Nn=function(){return dn(window)},An=function(r){return window.scrollTo(r.x,r.y)},Ir=K().fold(function(){return{bind:E,unbind:E}},function(r){var e=ee(),n=rr(),t=rr(),o=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},i=function(){window.requestAnimationFrame(function(){e.on(function(d){return G(d,{top:r.offsetTop+"px",left:r.offsetLeft+"px",height:r.height+"px",width:r.width+"px"})})})},a=gn.throttle(function(){o(),i()},50),c=function(d){e.set(d),a(),n.set(Rr("resize",a)),t.set(Rr("scroll",a))},m=function(){e.on(function(){n.clear(),t.clear()}),e.clear()};return{bind:c,unbind:m}}),Wr=function(r,e){var n=document.body,t=document.documentElement,o=r.getContainer(),i=l.fromDom(o),a=hn(r),c=e.get(),m=l.fromDom(r.getBody()),d=Mr.deviceType.isTouch(),f=o.style,T=r.iframeElement,h=T.style,zr=function(b){b(n,"tox-fullscreen"),b(t,"tox-fullscreen"),b(o,"tox-fullscreen"),V(i).map(function(L){return _(L).dom}).each(function(L){b(L,"tox-fullscreen"),b(L,"tox-shadowhost")})},J=function(){d&&$n(r.dom),zr(qr.removeClass),Ir.unbind(),s.from(e.get()).each(function(b){return b.fullscreenChangeHandler.unbind()})};if(c)c.fullscreenChangeHandler.unbind(),Y(r)&&Br(a)&&wn(C(a)),h.width=c.iframeWidth,h.height=c.iframeHeight,f.width=c.containerWidth,f.height=c.containerHeight,f.top=c.containerTop,f.left=c.containerLeft,J(),An(c.scrollPos),e.set(null),Lr(r,!1),r.off("remove",J);else{var Bn=fn(C(a),bn(),function(b){Y(r)&&!Br(a)&&e.get()!==null&&Wr(r,e)}),Hn={scrollPos:Nn(),containerWidth:f.width,containerHeight:f.height,containerTop:f.top,containerLeft:f.left,iframeWidth:h.width,iframeHeight:h.height,fullscreenChangeHandler:Bn};d&&Pn(r.dom,i,m),h.width=h.height="100%",f.width=f.height="",zr(qr.addClass),Ir.bind(i),r.on("remove",J),e.set(Hn),Y(r)&&yn(a),Lr(r,!0)}},Rn=function(r,e){r.addCommand("mceFullScreen",function(){Wr(r,e)})},Ur=function(r,e){return function(n){n.setActive(e.get()!==null);var t=function(o){return n.setActive(o.state)};return r.on("FullscreenStateChanged",t),function(){return r.off("FullscreenStateChanged",t)}}},Mn=function(r,e){var n=function(){return r.execCommand("mceFullScreen")};r.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Ur(r,e)}),r.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Ur(r,e)})};function Ln(){D.add("fullscreen",function(r){var e=S(null);return r.inline||(Rn(r,e),Mn(r,e),r.addShortcut("Meta+Shift+F","","mceFullScreen")),O(e)})}Ln()})();const qn=jn({__proto__:null,default:Xr},[Xr]);export{qn as i};
